{% extends "accounts/base_accounts.html" %}
{% load staticfiles %}

{% block tabactive3 %} class="active" {% endblock %}

{% block references %}
    <link rel="stylesheet" href="{% static "datatables/css/jquery.dataTables.css" %}" />
    <link rel="stylesheet" href="{% static "datatables/css/dataTables.bootstrap.css" %}" />
    <link rel="stylesheet" href="{% static "datatables/css/jquery-ui.css" %}" />
    <link rel="stylesheet" href="{% static "datatables/css/dataTables.colVis.css" %}" />
    <link rel="stylesheet" href="{% static "datatables/css/dataTables.tableTools.css" %}" />
    <link rel="stylesheet" href="{% static "datatables/css/dataTables.fixedColumns.css" %}" />
{% endblock %}

{% block scripts %}
    <script>
        $(document).ready( function () {

            var table = $('#trainee-table').DataTable( {
                "scrollY": 360,
                "scrollX": true,
                paging: false,
                columnDefs: [ {
                sortable: false,
                "class": "index",
                targets: 0
                } ],
                order: [[ 1, 'asc' ]],               
                dom:'CT<"top"i>frt<"bottom"lp><"clear">',
                tableTools: 
                    {"sSwfPath": "{% static 'datatables/swf/copy_csv_xls.swf'%}",
                    "aButtons": [ "copy", "csv", "xls", "print" ]},
                columnDefs: [
                    { visible: false, targets: 12 },              
                    { visible: false, targets: 13 },
                    { visible: false, targets: 14 },
                    { visible: false, targets: 15 }
                ],
                colVis: {
                    restore: "Restore",
                    showAll: "Show all",
                    showNone: "Show none"
                }
            } );

            new $.fn.dataTable.FixedColumns(table);
            table.on( 'order.dt search.dt', function () {
                table.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
                    cell.innerHTML = i+1;
                } );
            } ).draw();

        } );
    </script>
    <script type="text/javascript" src="{% static "datatables/js/jquery.js" %}"></script>
    <script type="text/javascript" src="{% static "datatables/js/jquery.dataTables.js" %}"></script>
    <script type="text/javascript" src="{% static "datatables/js/dataTables.bootstrap.js" %}"></script>
    <script type="text/javascript" src="{% static "datatables/js/dataTables.colVis.js" %}"></script>   
    <script type="text/javascript" src="{% static "datatables/js/dataTables.tableTools.js" %}"></script>
    <script type="text/javascript" src="{% static "datatables/js/dataTables.fixedColumns.js" %}"></script> 
{% endblock %}

{% block trainee_content %}
    <h4> Roster </h4>
    <table class="table table-striped table-bordered display compact cell-border stripe row-border order-column" id="trainee-table" cellspacing="0" width="100%"> 
        <thead>
            <tr>
                <th> </th>
                <th> HC </th>
                <th> Last Name </th>
                <th> First Name </th>
                <th> Gender </th>
                <th> Term </th>
                <th> Locality </th>
                <th> Team </th>
                <th> Residence </th>
                <th> Bunk </th>
                <th> Vehicle </th>
                <th> Phone </th>
                <th> TA </th>
                <th> Age </th>
                <th> Mentor </th>
                <th> Highest Degree </th>
                <th> Email </th>
            </tr>
        </thead>

        <tbody>
            {% for trainee in trainees %}
                {% if trainee.active %}
                    <tr>
                        <td> </td>
                        <td> </td>
                        <td>{{trainee.account.lastname}}</td>
                        <td>{{trainee.account.firstname}}</td>
                        <td>{{trainee.account.gender}}</td>
                        <td>{{trainee.account.term}}</td>
                        <td>  </td>
                        <td>{{trainee.team}}</td>
                        <td>{{trainee.house}}</td>
                        <td>{{trainee.bunk}}</td>
                        <td>  </td>
                        <td>{{trainee.account.phone}}</td>
                        <td>{{trainee.TA}}</td>
                        <td>{{trainee.account.age}}</td>
                        <td>{{trainee.mentor}}</td>
                        <td>  </td>
                        <td>{{trainee.email}}</td>
                    </tr>
                {% endif %}
            {% endfor %}   
        </tbody>
    </table>

    <BR>&nbsp;<BR> 

{% endblock %}
